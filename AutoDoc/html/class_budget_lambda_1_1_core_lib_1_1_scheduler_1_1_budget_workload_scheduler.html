<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BudgetLambda: BudgetLambda.CoreLib.Scheduler.BudgetWorkloadScheduler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">BudgetLambda
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BudgetLambda.CoreLib.Scheduler.BudgetWorkloadScheduler Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Scheduler class used to schedule components to the database, this should be injected transiently. LoadPackage should be called before using the scheduler.  
 <a href="class_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad5766c2dd0e0cb3041699b129ec94721"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler.html#ad5766c2dd0e0cb3041699b129ec94721">BudgetWorkloadScheduler</a> (IConfiguration conf, <a class="el" href="class_budget_lambda_1_1_core_lib_1_1_utility_1_1_faas_1_1_faas_client.html">FaasClient</a> _client)</td></tr>
<tr class="memdesc:ad5766c2dd0e0cb3041699b129ec94721"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor for dependency injection.  <br /></td></tr>
<tr class="separator:ad5766c2dd0e0cb3041699b129ec94721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affa287018fd7737f2464df1ecf454332"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler.html#affa287018fd7737f2464df1ecf454332">LoadPackage</a> (<a class="el" href="class_budget_lambda_1_1_core_lib_1_1_component_1_1_pipeline_package.html">PipelinePackage</a> package)</td></tr>
<tr class="memdesc:affa287018fd7737f2464df1ecf454332"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a package for scheduling, this method should be called whenever a new instance of the scheduler is injected.  <br /></td></tr>
<tr class="separator:affa287018fd7737f2464df1ecf454332"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9b9763480c3dcb22e67b2a67dbeacec"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler.html#aa9b9763480c3dcb22e67b2a67dbeacec">ConfigureMQ</a> ()</td></tr>
<tr class="memdesc:aa9b9763480c3dcb22e67b2a67dbeacec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the RabbitMQ message queue for the use of the package. An exchange will be created based on the exchange key of the package.  <br /></td></tr>
<tr class="separator:aa9b9763480c3dcb22e67b2a67dbeacec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5cd9a75992ade8066bd98172dca51e3"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler.html#ac5cd9a75992ade8066bd98172dca51e3">SchedulePackage</a> (string workdir, Action&lt; int &gt; increaseCount)</td></tr>
<tr class="memdesc:ac5cd9a75992ade8066bd98172dca51e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule a package for execution in the Faas platform. Child components for the package is recursively scheduled.  <br /></td></tr>
<tr class="separator:ac5cd9a75992ade8066bd98172dca51e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5befcad88fdb8c1b8ef883a9910f88e4"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler.html#a5befcad88fdb8c1b8ef883a9910f88e4">ScheduleComponent</a> (string workdir, <a class="el" href="class_budget_lambda_1_1_core_lib_1_1_component_1_1_component_base.html">ComponentBase</a> component)</td></tr>
<tr class="memdesc:a5befcad88fdb8c1b8ef883a9910f88e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules an individual component to run in the cluster. Dependent files will be scaffolded into the working directory, and a Tarball package will be created from there. The tar package will be then send to the remote docker server for building and pushing, and then scheduled to run in the cluster.  <br /></td></tr>
<tr class="separator:a5befcad88fdb8c1b8ef883a9910f88e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Scheduler class used to schedule components to the database, this should be injected transiently. LoadPackage should be called before using the scheduler. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad5766c2dd0e0cb3041699b129ec94721" name="ad5766c2dd0e0cb3041699b129ec94721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5766c2dd0e0cb3041699b129ec94721">&#9670;&#160;</a></span>BudgetWorkloadScheduler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BudgetLambda.CoreLib.Scheduler.BudgetWorkloadScheduler.BudgetWorkloadScheduler </td>
          <td>(</td>
          <td class="paramtype">IConfiguration&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_budget_lambda_1_1_core_lib_1_1_utility_1_1_faas_1_1_faas_client.html">FaasClient</a>&#160;</td>
          <td class="paramname"><em>_client</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor for dependency injection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conf</td><td>Configuration object, should be injected with at least JSON file and EnvVars support. </td></tr>
    <tr><td class="paramname">_client</td><td>OpenFaas swagger client used for interop with the Faas gateway. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa9b9763480c3dcb22e67b2a67dbeacec" name="aa9b9763480c3dcb22e67b2a67dbeacec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9b9763480c3dcb22e67b2a67dbeacec">&#9670;&#160;</a></span>ConfigureMQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task BudgetLambda.CoreLib.Scheduler.BudgetWorkloadScheduler.ConfigureMQ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the RabbitMQ message queue for the use of the package. An exchange will be created based on the exchange key of the package. </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="affa287018fd7737f2464df1ecf454332" name="affa287018fd7737f2464df1ecf454332"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affa287018fd7737f2464df1ecf454332">&#9670;&#160;</a></span>LoadPackage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BudgetLambda.CoreLib.Scheduler.BudgetWorkloadScheduler.LoadPackage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_budget_lambda_1_1_core_lib_1_1_component_1_1_pipeline_package.html">PipelinePackage</a>&#160;</td>
          <td class="paramname"><em>package</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads a package for scheduling, this method should be called whenever a new instance of the scheduler is injected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">package</td><td>the package to be used for scheduling </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5befcad88fdb8c1b8ef883a9910f88e4" name="a5befcad88fdb8c1b8ef883a9910f88e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5befcad88fdb8c1b8ef883a9910f88e4">&#9670;&#160;</a></span>ScheduleComponent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task BudgetLambda.CoreLib.Scheduler.BudgetWorkloadScheduler.ScheduleComponent </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>workdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_budget_lambda_1_1_core_lib_1_1_component_1_1_component_base.html">ComponentBase</a>&#160;</td>
          <td class="paramname"><em>component</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules an individual component to run in the cluster. Dependent files will be scaffolded into the working directory, and a Tarball package will be created from there. The tar package will be then send to the remote docker server for building and pushing, and then scheduled to run in the cluster. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">workdir</td><td>A temp working directory to build the component files in, this directory is transient and will be deleted after the creation. </td></tr>
    <tr><td class="paramname">component</td><td>The component to be scheduled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler_a5befcad88fdb8c1b8ef883a9910f88e4_cgraph.png" border="0" usemap="#aclass_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler_a5befcad88fdb8c1b8ef883a9910f88e4_cgraph" alt=""/></div>
<map name="aclass_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler_a5befcad88fdb8c1b8ef883a9910f88e4_cgraph" id="aclass_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler_a5befcad88fdb8c1b8ef883a9910f88e4_cgraph">
<area shape="rect" title="Schedules an individual component to run in the cluster. Dependent files will be scaffolded into the ..." alt="" coords="5,37,305,77"/>
<area shape="rect" href="class_budget_lambda_1_1_core_lib_1_1_component_1_1_component_base.html#a8e0e8d2f4cf3b197c73be992aec79b23" title="Build and publish a docker image to the image registry." alt="" coords="385,5,615,45"/>
<area shape="rect" href="class_budget_lambda_1_1_core_lib_1_1_component_1_1_component_base.html#a9a39a7741715b951cd6ebde4728e20ac" title="Generates a deployment manifest that matches OpenFaas HTTP API, this manifest can then be sent agains..." alt="" coords="353,69,647,109"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler_a5befcad88fdb8c1b8ef883a9910f88e4_icgraph.png" border="0" usemap="#aclass_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler_a5befcad88fdb8c1b8ef883a9910f88e4_icgraph" alt=""/></div>
<map name="aclass_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler_a5befcad88fdb8c1b8ef883a9910f88e4_icgraph" id="aclass_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler_a5befcad88fdb8c1b8ef883a9910f88e4_icgraph">
<area shape="rect" title="Schedules an individual component to run in the cluster. Dependent files will be scaffolded into the ..." alt="" coords="339,5,639,45"/>
<area shape="rect" href="class_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler.html#ac5cd9a75992ade8066bd98172dca51e3" title="Schedule a package for execution in the Faas platform. Child components for the package is recursivel..." alt="" coords="5,5,291,45"/>
</map>
</div>

</div>
</div>
<a id="ac5cd9a75992ade8066bd98172dca51e3" name="ac5cd9a75992ade8066bd98172dca51e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5cd9a75992ade8066bd98172dca51e3">&#9670;&#160;</a></span>SchedulePackage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task BudgetLambda.CoreLib.Scheduler.BudgetWorkloadScheduler.SchedulePackage </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>workdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Action&lt; int &gt;&#160;</td>
          <td class="paramname"><em>increaseCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedule a package for execution in the Faas platform. Child components for the package is recursively scheduled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">workdir</td><td>A temp working directory to build the component files in, this directory is transient and will be deleted after the creation. </td></tr>
    <tr><td class="paramname">increaseCount</td><td>an event callback for progress tracking in the web UI. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler_ac5cd9a75992ade8066bd98172dca51e3_cgraph.png" border="0" usemap="#aclass_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler_ac5cd9a75992ade8066bd98172dca51e3_cgraph" alt=""/></div>
<map name="aclass_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler_ac5cd9a75992ade8066bd98172dca51e3_cgraph" id="aclass_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler_ac5cd9a75992ade8066bd98172dca51e3_cgraph">
<area shape="rect" title="Schedule a package for execution in the Faas platform. Child components for the package is recursivel..." alt="" coords="5,69,291,109"/>
<area shape="rect" href="class_budget_lambda_1_1_core_lib_1_1_component_1_1_component_base.html#ad9583b482ec9a99f8e830aaa0233b40d" title="Traversing the tree&#45;like structure to obtain child components." alt="" coords="369,5,608,45"/>
<area shape="rect" href="class_budget_lambda_1_1_core_lib_1_1_component_1_1_pipeline_package.html#a590c95776f1fb45fb63b65ce3331295f" title="Configures the package as well as its child components for their input and output keys." alt="" coords="373,69,604,109"/>
<area shape="rect" href="class_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler.html#a5befcad88fdb8c1b8ef883a9910f88e4" title="Schedules an individual component to run in the cluster. Dependent files will be scaffolded into the ..." alt="" coords="339,133,639,173"/>
<area shape="rect" href="class_budget_lambda_1_1_core_lib_1_1_component_1_1_component_base.html#ade3126b90da0051621beef5c988a4344" title="Configures the input and output Routing Keys for the component, while also recursively configuring al..." alt="" coords="718,69,949,109"/>
<area shape="rect" href="class_budget_lambda_1_1_core_lib_1_1_component_1_1_component_base.html#a8e0e8d2f4cf3b197c73be992aec79b23" title="Build and publish a docker image to the image registry." alt="" coords="718,133,949,173"/>
<area shape="rect" href="class_budget_lambda_1_1_core_lib_1_1_component_1_1_component_base.html#a9a39a7741715b951cd6ebde4728e20ac" title="Generates a deployment manifest that matches OpenFaas HTTP API, this manifest can then be sent agains..." alt="" coords="687,197,980,237"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>BudgetLambda.CoreLib/Scheduler/BudgetWorkloadScheduler.cs</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_budget_lambda.html">BudgetLambda</a></li><li class="navelem"><a class="el" href="namespace_budget_lambda_1_1_core_lib.html">CoreLib</a></li><li class="navelem"><a class="el" href="namespace_budget_lambda_1_1_core_lib_1_1_scheduler.html">Scheduler</a></li><li class="navelem"><a class="el" href="class_budget_lambda_1_1_core_lib_1_1_scheduler_1_1_budget_workload_scheduler.html">BudgetWorkloadScheduler</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
