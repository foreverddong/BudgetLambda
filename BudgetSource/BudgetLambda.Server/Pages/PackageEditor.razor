@page "/packageeditor/{packageid:guid?}"
@using BudgetLambda.CoreLib.Component
@using BudgetLambda.CoreLib.Database
@inject BudgetContext database
@inject NavigationManager navigation


<MudContainer>
    <MudGrid>
        <MudItem md="12">
            <MudGrid>
                <MudItem md="6">
                    <MudField Label="Package ID" Variant="Variant.Filled">@package.PackageID</MudField>
                </MudItem>
                <MudItem md="6">
                    <MudTextField @bind-Value="package.PackageName" Label="Package Name" Variant="Variant.Outlined"></MudTextField>
                </MudItem>
            </MudGrid>
        </MudItem>
        <MudItem md="3">
            <MudPaper Width="300px">
                <MudList Clickable="true">
                    <MudListSubheader>

                        @if (creation)
                        {
                            <MudAlert Severity="Severity.Warning">New Pipeline</MudAlert>
                        }
                        else if (healthy)
                        {
                            <MudAlert Severity="Severity.Success">Healthy</MudAlert>
                        }
                        else
                        {
                            <MudAlert Severity="Severity.Error">Problems Detected</MudAlert>
                        }
                    </MudListSubheader>
                    <MudListItem Text="Manage Components"></MudListItem>
                    <MudListItem Text="Manage Schemas"></MudListItem>
                    <MudListItem Text="@saveText" OnClick="SavePackage"></MudListItem>
                </MudList>
            </MudPaper>
        </MudItem>
    </MudGrid>
</MudContainer>
